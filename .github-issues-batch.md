# syaryo_kanren_system - 未実装機能リスト

## 優先度: High

### 1. Lark Messenger通知機能の実装
**タイプ**: feature
**説明**: 承認・却下時にLark Messengerで申請者に通知を送信
**要件**:
- 承認時の通知メッセージ送信
- 却下時の通知メッセージ送信（理由を含む）
- Lark Messenger APIとの連携
- 通知送信エラーハンドリング

### 2. 承認履歴の記録機能
**タイプ**: feature
**説明**: 誰がいつ承認・却下したかの履歴を記録・表示
**要件**:
- 承認履歴テーブルの作成（Lark Base）
- 承認・却下時に履歴を記録
- 履歴表示画面の実装
- タイムスタンプと承認者情報の記録

### 3. ファイルAPIのセキュリティ強化
**タイプ**: security
**説明**: /api/files/:fileKey に認証チェックを追加
**要件**:
- requireAdmin() ミドルウェアの追加
- ユーザー権限に基づくアクセス制限
- 不正アクセス時のエラーハンドリング
- セキュリティテストの追加

## 優先度: Medium

### 4. 個別承認・却下機能
**タイプ**: feature
**説明**: 免許証・車検証・任意保険証を個別に承認・却下
**要件**:
- 個別承認ボタンの実装
- 個別却下ボタンの実装
- 部分的に承認された状態の管理
- UI/UXの改善（どの書類が承認済みか明確に表示）

### 5. Content-Type動的設定
**タイプ**: enhancement
**説明**: アップロードされたファイルの種類に応じて正しいContent-Typeを設定
**要件**:
- Lark Baseにfile_typeフィールドを追加
- アップロード時にMIMEタイプを保存
- ダウンロード時に正しいContent-Typeを設定
- JPEG, PNG, PDF対応

### 6. モバイル・タブレット対応
**タイプ**: enhancement
**説明**: 2分割ビューをモバイル・タブレットで最適化
**要件**:
- タブレット: タブ切り替えで左右パネルを切り替え
- モバイル: 縦スクロールレイアウト
- レスポンシブデザインの改善
- タッチ操作の最適化

## 優先度: Low

### 7. PDFプレビュー対応
**タイプ**: feature
**説明**: PDFファイルをブラウザ内でプレビュー表示
**要件**:
- PDF.jsライブラリの統合
- PDFビューアコンポーネントの実装
- ページナビゲーション機能
- ダウンロード機能

### 8. 画像回転機能
**タイプ**: feature
**説明**: アップロードされた画像を90度ずつ回転可能に
**要件**:
- 回転ボタンの追加
- 画像の回転状態を保持
- 回転後の画像保存
- スマートフォン撮影画像への対応
