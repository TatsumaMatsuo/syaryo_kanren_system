---
name: PDFãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œ
about: PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
title: 'ğŸ“„ PDFãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œã®å®Ÿè£…'
labels: 'enhancement, priority-low'
assignees: ''
---

## ğŸ“‹ è¦ä»¶

- [ ] PDF.jsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®çµ±åˆ
- [ ] PDFãƒ“ãƒ¥ãƒ¼ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
- [ ] ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
- [ ] ã‚ºãƒ¼ãƒ æ©Ÿèƒ½
- [ ] ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- PDF.js
- react-pdf
- TypeScript
- React

## ğŸ“ èª¬æ˜

ç¾åœ¨ã€ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆJPEG, PNGï¼‰ã®ã¿ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºã§ãã¾ã™ãŒã€PDFãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚PDFã‚’ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§ç›´æ¥ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

### ç¾åœ¨ã®å‹•ä½œ

```
PDFãƒ•ã‚¡ã‚¤ãƒ« â†’ âŒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸å¯
            â†’ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦å¤–éƒ¨ãƒ“ãƒ¥ãƒ¼ã‚¢ã§ç¢ºèª
```

### æ”¹å–„å¾Œã®å‹•ä½œ

```
PDFãƒ•ã‚¡ã‚¤ãƒ« â†’ âœ… ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
            â†’ ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
            â†’ ã‚ºãƒ¼ãƒ æ©Ÿèƒ½
            â†’ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚‚å¯èƒ½
```

## ğŸ“Š UIãƒ‡ã‚¶ã‚¤ãƒ³

### PDFãƒ“ãƒ¥ãƒ¼ã‚¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† â†’ [1/5] æ‹¡å¤§ ç¸®å° ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚    PDFã‚³ãƒ³ãƒ†ãƒ³ãƒ„             â”‚
â”‚                             â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«

- **â† â†’**: å‰/æ¬¡ãƒšãƒ¼ã‚¸
- **[1/5]**: ç¾åœ¨ãƒšãƒ¼ã‚¸ / ç·ãƒšãƒ¼ã‚¸æ•°
- **æ‹¡å¤§/ç¸®å°**: ã‚ºãƒ¼ãƒ ã‚¤ãƒ³/ã‚¢ã‚¦ãƒˆ
- **ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**: PDFã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

## ğŸ“Š æˆåŠŸæ¡ä»¶

- [ ] PDFè¡¨ç¤ºãŒæ­£å¸¸ã«å‹•ä½œ
- [ ] ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚¹ãƒ ãƒ¼ã‚º
- [ ] ã‚ºãƒ¼ãƒ æ©Ÿèƒ½ãŒä½¿ã„ã‚„ã™ã„
- [ ] ãƒ¢ãƒã‚¤ãƒ«ã§ã‚‚å¿«é©ã«é–²è¦§å¯èƒ½
- [ ] å¤§ããªPDFã§ã‚‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è‰¯å¥½

## ğŸ”— é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

- `app/(admin)/admin/applications/[employeeId]/page.tsx` - è©³ç´°ç”»é¢
- `components/ui/pdf-viewer.tsx` - PDFãƒ“ãƒ¥ãƒ¼ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆæ–°è¦ï¼‰
- `app/api/files/[fileKey]/route.ts` - ãƒ•ã‚¡ã‚¤ãƒ«å–å¾—API

## ğŸ¯ å®Ÿè£…æ–¹é‡

### 1. ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install react-pdf pdfjs-dist
npm install -D @types/pdfjs-dist
```

### 2. PDFãƒ“ãƒ¥ãƒ¼ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
import { Document, Page, pdfjs } from "react-pdf";

pdfjs.GlobalWorkerOptions.workerSrc = `//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;

function PDFViewer({ fileUrl }: { fileUrl: string }) {
  const [numPages, setNumPages] = useState<number>(0);
  const [pageNumber, setPageNumber] = useState<number>(1);
  const [scale, setScale] = useState<number>(1.0);

  const onDocumentLoadSuccess = ({ numPages }) => {
    setNumPages(numPages);
  };

  return (
    <div>
      {/* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« */}
      <div className="controls">
        <button onClick={() => setPageNumber(Math.max(1, pageNumber - 1))}>
          â†
        </button>
        <span>{pageNumber} / {numPages}</span>
        <button onClick={() => setPageNumber(Math.min(numPages, pageNumber + 1))}>
          â†’
        </button>
        <button onClick={() => setScale(scale + 0.1)}>+</button>
        <button onClick={() => setScale(Math.max(0.5, scale - 0.1))}>-</button>
      </div>

      {/* PDFãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ */}
      <Document file={fileUrl} onLoadSuccess={onDocumentLoadSuccess}>
        <Page pageNumber={pageNumber} scale={scale} />
      </Document>
    </div>
  );
}
```

### 3. ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—åˆ¤å®š

```typescript
// è©³ç´°ç”»é¢
const currentDoc = getCurrentDocument();
const isPDF = currentDoc?.file_mime_type === "application/pdf";

{isPDF ? (
  <PDFViewer fileUrl={`/api/files/${currentDoc.image_url}`} />
) : (
  <ImageViewer fileUrl={`/api/files/${currentDoc.image_url}`} />
)}
```

## ğŸ“š PDF.js è¨­å®š

### Workerè¨­å®šï¼ˆå¿…é ˆï¼‰

```typescript
// app/layout.tsx ã¾ãŸã¯å°‚ç”¨ãƒ•ã‚¡ã‚¤ãƒ«
import { pdfjs } from "react-pdf";

pdfjs.GlobalWorkerOptions.workerSrc = new URL(
  "pdfjs-dist/build/pdf.worker.min.js",
  import.meta.url
).toString();
```

### CSS Import

```typescript
import "react-pdf/dist/esm/Page/AnnotationLayer.css";
import "react-pdf/dist/esm/Page/TextLayer.css";
```

## âš ï¸ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®äº‹é …

| å•é¡Œ | å¯¾ç­– |
|------|------|
| å¤§ããªPDFã®èª­ã¿è¾¼ã¿ãŒé…ã„ | ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤º |
| ãƒ¡ãƒ¢ãƒªæ¶ˆè²»ãŒå¤§ãã„ | ãƒšãƒ¼ã‚¸å˜ä½ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° |
| åˆå›è¡¨ç¤ºãŒé…ã„ | Workeräº‹å‰ãƒ­ãƒ¼ãƒ‰ |

---

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
